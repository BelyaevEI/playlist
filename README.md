# Playlist
## Функционал приложения.
Доступ к функциям приложения осуществляется только для зарегистрированных и авторизованных пользователей. После прохождения авторизации, пользователю доступен плэйлист, который в свою очередь позволяет добавлять и удалять песни, а также предоставляет возможность воспроизводить песни, ставить на паузу и переключать песни вперед и назад по плейлисту конкурентно.

## Архитектура приложения.
На этапе инициализации создается сущность Provider, которая содержит в себе все необходимые зависимости и обьекты для запуска приложения. Для инициализации использовался подход DI-контейнеров. Переменные считываются с файла config.env и загружаются в переменные окружения для последующего использования соответствующими сущнастями. Инициализируется подключение к БД PostgreSQL. Для основных модулей написаны unit-тесты.
Приложение имеет слоистую структуру:
- API слой для взаимодействия с grpc запросами
- сервисны слой для бизнес логики
- репозитарный слой для обработки данных

## Техническая реализация проекта
В качестве базы данных используется PostgreSQL.
БД разбита на две таблицы user(используется для регистрации пользователей) и playlist(хранит в себе данные о песне).
Песни хранятся в БД с использование двусвязнного списка.
При регистрации создается секретное слово и генерируется JWT токен. Проверка JWT токена осуществляется в интерцепторе при запросах на добавление песни или переключении.

## API приложения
 - Registration - регистрация пользователя на сервере
 - Login - авторизация пользователя на сервере
 - Play - начинает воспроизведение
 - Pause - приостанавливает воспроизведение
 - AddSong - добавляет в конец плейлиста песню
 - Next воспроизвести след песню
 - Prev воспроизвести предыдущую песню

## Deploy
Для конфигурации приложения playlist написан отдельный Dockerfile. С помощью библиотеки goose реализована мирграция БД. Миграция накатывается отдельно при деплое после создания контейнера с БД.
